<!doctype html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
  <meta name="Generator" content="EditPlus®">
  <meta name="Author" content="">
  <meta name="Keywords" content="">
  <meta name="Description" content="">
  <link href="../../maychangecss/newblog_nomal.css" type="text/css" rel="stylesheet">
  <title>【LODOP】vue中page-break-after:always不能分页（转成了break-after: page）（newblog117）（文案，初）</title>
 </head>
 <body>
 <style>
 body{margin:0px;}
.body {width:100%;}
a{text-decoration:none;color:black;}
h1{font-size:1.625em;}
h2{font-size:1.375em;}
/**.box{float:left;}**/
.header_box {width:100%;}
.header{padding:1%;
background-color:#f1f1f1;}
/**border:1px solid #e9e9e9;}**/

.header_bottom{width:100%;}
.menuitem {
    margin-top:0;
    margin-left:0;
    margin-bottom:0;
    padding:1%;
    border-bottom:1px solid #e9e9e9;
    cursor:pointer;
}

.main {padding:1%;}
.main_middle { width:100%;}
.blue{color:#95bfc7;}


.box_footer {width:100%;margin-bottom:0;}
.footer {
    padding:1%;
    text-align:center;
    background-color:#f1f1f1;
    font-size:0.625em;
}

@media only screen and (max-width: 500px) {
    .menu_left{width:100%;}
    .menuitem { margin:1%;padding:1%;}

    .main_middle { width:100%;}
    .main {padding:1%;}

    .box_right {width:100%;}
    .right { padding:1%;
    }

    .box { margin-right:0; float:left; }
}

</style>
<div class="body"><!--body开始-->
        <div class="box header_box"><!--header开始-->
            <div class="header">
                <h1>博文-【LODOP】vue中page-break-after:always不能分页（转成了break-after: page）（newblog117）（文案，初）</h1>
            </div>
        </div><!--header结束-->
<div class="header_bottom"> 
		   <a href="../../index.html"><div class="menuitem">花谢悦神的主页</div></a>	
		   <a href="../phoneQA004.html"><div class="menuitem">lodop问答主页</div></a> 
		   <a href="../phoneQA_dange.html"><div class="menuitem">问答主页（单个问答链接）</div></a> 
		   <a href="../mini_QAs.html"><div class="menuitem"><span style="color:#ff0099;">迷你一个问答</span></div></a> 
		   <a href="../new_bloglist.html"><div class="menuitem"><span class="newblogfont">新博文newblogs</span></div></a>
</div>
        <div class="box main_middle"><!--main_middle开始-->
            <div class="main">
<h1>【LODOP】vue中page-break-after:always不能分页（转成了break-after: page）（newblog117）（文案，初）</h1>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body blogpost-body-html">
<p>page-break-after:always不能分页，<br />情况1：需要超文本中提前预置强制分页符， 并注意只有前后都有换行符的block元素才能用来分页，<br />可以专门插入一个分页元素，也可以把一个正常元素的style设为强制分页，且必须在block元素之间进行分页。<br />需要前后都是block块级元素才可以分页。</p>
<p>情况2：<br />目前发现在vue中，page-break-after:always会被转成break-after: page<br />这就导致了无法分页。</p>
<p>至于转换原因，自己百度查到似乎是vue中该属性被替代了：<br />这个属性被废弃了，由 break-before/break-after 代替</p>
<p>如何知道自己原来的htm和样式中page-break-after:always是否被替代了？</p>
<p>查看lodop内部解析的html信息，见http://www.c-lodop.com/faq/pp8.html<br />进入打印设计LODOP.PRINT_DESIGN();<br />选中这个htm超文本项，右键属性里可以查看实际传入的代码，可以在这个界面里排查，也可以复制出来，观察这个复制出来的htm和样式，和自己原来的htm和样式是否有差异。</p>
<p>如果代码较多，可以通过查询，查询该文本中是否有该样式：<br />（图）</p>
<p>如果自己htm设置了该样式，但在打印右键属性里查询不到该样式，可能因一些原因该样式被替代了：<br />（图）</p>
<p>例如，vue中有他人反馈page-break-after:always会被break-after: page替代，而lodop的htm中强制分页是这个page-break-after:always，被替代的这个样式不会识别，也就不会分页了</p>
<p>如何处理样式被替代问题：<br />可以对htm字符串处理，例如用JS里的replace方法，把这些样式字符串替换回去，style="page-break-after:always等。</p>
<p>网上的解决方法：<br />源自网络：vue 比较智能。那你用原生的style或者在CSS里定义，不要用vue的style绑定。</p>
<p>替换后，可以再次进入打印设计LODOP.PRINT_DESIGN();，<br />http://www.c-lodop.com/faq/pp8.html<br />右键属性复制代码出来，查看实际出传入的内容是否正常了。</p>
<p>replace是JS里的方法，可以替换字符串中的某些字符：<br />之前（6年前的，时间比较久了）自己弄过一个相关博文：https://www.cnblogs.com/huaxie/p/11612746.html<br />介绍过replace的方法，之后自己可能也会弄个相关视频再介绍下。</p>
<p>方法1：<br />直接传入自己需要的htm字符串，这样就不会因一些原因在浏览器导致解析成其他字符。<br />ADD_PRINT_HTM里的，直接拼接出需要的内容和样式字符串。</p>
<p>方法2：<br />通过document.getElementById传入页面元素的html和样式，但是在vue中，一些样式可能会解析成另外的样式，且会加一些不需要无用的样式。<br />这时，可以通过replace把传入的字符串里相关的样式给替换掉。</p>
<p>&nbsp;</p>
<p>您好，这边对比出来了，您第一次发的代码里用的是page-break-after: always<br />第二次发的代码里用的是break-after: page;</p>
<p><br />因为这个属性被废弃了，由 break-before/break-after 代替。</p>
<p>&nbsp;</p>
</div>
<p>&nbsp;</p>
</div>
</div>
    </div><!--main_middle结束-->

        <div class="box box_footer"><!--box_footer开始-->
            <div class="footer">
<p>lodop简短问答页面.</p>
            </div>
        </div><!--box_footer结束-->
</div><!--body结束-->
 </body>
</html>
